(function(){"use strict";const f=()=>{const o=new TextDecoder("utf-8");let t,n="";return{parseChunk(r){const a=o.decode(r),s=(n+a).split(`
`);return t||(t=s[0].trim().split("	"),s.shift()),n=s.pop(),s.map(e=>{if(e.trim()==="")return null;const d=e.split("	");let i={};return t.forEach((p,h)=>{h<d.length?i[p]=d[h]:i[p]=null}),i}).filter(e=>e)}}};onmessage=async({data:o})=>{let t=0;const n=f(),r=await fetch(o.url,{method:"GET",headers:{"Accept-Encoding":"gzip"}});if(!r.body)throw Error("ReadableStream not yet supported in this browser.");new Response(new ReadableStream({start(a){const c=r.body.getReader(),s=async()=>{const{done:l,value:e}=await c.read();if(l){a.close(),postMessage({items:[],totalBytes:t,finished:!0});return}const u=n.parseChunk(e);t+=e.byteLength,postMessage({items:u,totalBytes:t,finished:!1}),a.enqueue(e),s()};s()}}))}})();
